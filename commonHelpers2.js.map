{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\nconst expressionKey = 'feedback-form-state';\n\nfunction saveDataToLocalStorage() {\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n  localStorage.setItem(expressionKey, JSON.stringify(formData));\n}\n\nfunction refillDataFromLocalStorage() {\n  const localData = localStorage.getItem(expressionKey);\n\n  if (localData) {\n    const formData = JSON.parse(localData);\n    email.value = formData.email || '';\n    message.value = formData.message || '';\n  }\n}\n\nrefillDataFromLocalStorage();\n\nemail.addEventListener('input', throttle(saveDataToLocalStorage, 500));\nmessage.addEventListener('input', throttle(saveDataToLocalStorage, 500));\n\nform.addEventListener('submit', cleaner);\n\nfunction cleaner(event) {\n  if (email.value === '' || message.value === '') {\n    return alert('Please fill in all the fields!');\n  } else {\n    const formData = {\n      email: email.value,\n      message: message.value,\n    };\n    console.log(formData);\n\n    event.preventDefault();\n\n    localStorage.removeItem(expressionKey);\n\n    email.value = '';\n    message.value = '';\n  }\n}\n"],"names":["form","email","message","expressionKey","saveDataToLocalStorage","formData","refillDataFromLocalStorage","localData","throttle","cleaner","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAgB,sBAEtB,SAASC,GAAyB,CAChC,MAAMC,EAAW,CACf,MAAOJ,EAAM,MACb,QAASC,EAAQ,KACrB,EACE,aAAa,QAAQC,EAAe,KAAK,UAAUE,CAAQ,CAAC,CAC9D,CAEA,SAASC,GAA6B,CACpC,MAAMC,EAAY,aAAa,QAAQJ,CAAa,EAEpD,GAAII,EAAW,CACb,MAAMF,EAAW,KAAK,MAAME,CAAS,EACrCN,EAAM,MAAQI,EAAS,OAAS,GAChCH,EAAQ,MAAQG,EAAS,SAAW,EACrC,CACH,CAEAC,IAEAL,EAAM,iBAAiB,QAASO,EAASJ,EAAwB,GAAG,CAAC,EACrEF,EAAQ,iBAAiB,QAASM,EAASJ,EAAwB,GAAG,CAAC,EAEvEJ,EAAK,iBAAiB,SAAUS,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACtB,GAAIT,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,gCAAgC,EACxC,CACL,MAAMG,EAAW,CACf,MAAOJ,EAAM,MACb,QAASC,EAAQ,KACvB,EACI,QAAQ,IAAIG,CAAQ,EAEpBK,EAAM,eAAc,EAEpB,aAAa,WAAWP,CAAa,EAErCF,EAAM,MAAQ,GACdC,EAAQ,MAAQ,EACjB,CACH"}